# Google Maps 機能説明

## 🗺️ 実装された機能

### **インタラクティブマップ**
- ✅ **リアルタイムマップ**: Google Maps JavaScript API使用
- ✅ **物件マーカー**: カスタムSVGマーカーで物件位置を表示
- ✅ **ズーム・パン**: 標準的なマップ操作をサポート
- ✅ **エリア自動調整**: 物件データに基づいて最適な表示範囲を設定

### **物件マーカー機能**
- 🏠 **カスタムデザイン**: 赤いピンアイコンに円マーク
- 💰 **ホバー効果**: マーカーにマウスを乗せると色が変化
- 📍 **クリック動作**: マーカークリックで物件詳細ページを新しいタブで開く
- 📊 **物件情報**: ホバー時に物件カードを表示

### **ユーザーインターフェース**
- 🔄 **表示切り替え**: マップビューとリストビューの切り替え
- 📱 **レスポンシブ**: モバイル・デスクトップ両対応
- 🎨 **美しいUI**: Tailwind CSSとFramer Motionでスムーズなアニメーション

## 🛠️ 技術仕様

### **使用ライブラリ**
```javascript
@googlemaps/react-wrapper // Google Maps React統合
framer-motion            // アニメーション
react-icons/fi          // アイコン
```

### **APIキー設定**
```bash
VITE_GOOGLE_MAPS_API_KEY=AIzaSyACdDNXX1k8Q73U3FM5viCDBbCeahHQk1g
```

### **マーカー座標システム**
- **エリアベース**: 東京23区の中心座標を基準
- **ランダムオフセット**: 同一エリア内で適度に散らばらせて表示
- **将来対応**: 実際の住所からの座標変換に対応可能

## 📍 対応エリア

| エリア | 中心座標 | 物件数 |
|--------|----------|--------|
| 渋谷区 | 35.6580, 139.7016 | 動的 |
| 新宿区 | 35.6938, 139.7034 | 動的 |
| 港区 | 35.6586, 139.7454 | 動的 |
| 千代田区 | 35.6938, 139.7534 | 動的 |
| 中央区 | 35.6762, 139.7703 | 動的 |
| 品川区 | 35.6092, 139.7301 | 動的 |
| 目黒区 | 35.6333, 139.7156 | 動的 |
| 世田谷区 | 35.6464, 139.6533 | 動的 |

## 🎯 ユーザー体験

### **マップ操作**
1. **物件表示**: 地図上に物件がピンで表示
2. **ホバー情報**: マーカーにマウスを乗せると物件情報カードを表示
3. **詳細確認**: マーカークリックで物件詳細ページへ遷移
4. **視点調整**: 物件データに応じて自動的に最適な表示範囲に調整

### **表示モード**
- **マップビュー**: インタラクティブな地図表示
- **リストビュー**: 物件カード形式での一覧表示

## 🚀 パフォーマンス最適化

### **読み込み最適化**
- ✅ **遅延読み込み**: Google Maps APIの非同期読み込み
- ✅ **エラーハンドリング**: API読み込み失敗時の適切な表示
- ✅ **ローディング状態**: 読み込み中の視覚的フィードバック

### **メモリ管理**
- ✅ **マーカー管理**: 不要なマーカーの適切な削除
- ✅ **イベントリスナー**: コンポーネント終了時のクリーンアップ

## 🔧 カスタマイズ可能な要素

### **マーカーデザイン**
```javascript
// SVGカスタマイコン
const markerIcon = {
  url: `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(customSVG)}`,
  scaledSize: new google.maps.Size(32, 40),
  anchor: new google.maps.Point(16, 40)
};
```

### **マップスタイル**
```javascript
const mapStyles = [
  {
    featureType: 'poi',
    elementType: 'labels',
    stylers: [{ visibility: 'off' }]
  }
  // カスタムスタイルを追加可能
];
```

## 📈 今後の拡張可能性

### **予定機能**
- 🔍 **検索フィルター**: マップ上での条件絞り込み
- 📊 **クラスタリング**: 物件数が多い場合のマーカーグループ化
- 🚇 **交通情報**: 駅・路線情報の表示
- 📱 **位置情報**: ユーザーの現在地表示
- 🎯 **範囲検索**: 指定範囲内の物件検索

### **データ強化**
- 📍 **正確な座標**: 住所からの座標変換
- 🏢 **建物情報**: ストリートビュー連携
- 📈 **相場情報**: 周辺物件との比較表示

## ✅ 現在の状態

- ✅ **Google Maps API**: 正常に設定・動作
- ✅ **マーカー表示**: 全物件を地図上に表示
- ✅ **インタラクション**: ホバー・クリック動作正常
- ✅ **レスポンシブ**: モバイル・デスクトップ対応
- ✅ **エラーハンドリング**: API失敗時の適切な表示

この実装により、ユーザーは直感的に物件を地図上で確認し、効率的に物件探しを行うことができます。